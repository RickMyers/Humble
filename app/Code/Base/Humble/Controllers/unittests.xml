<?xml version="1.0"?>
<!--

Unit Test Harness

For Controller reference, please see "Anatomy of a Controller" at https://humbleprogramming.com/internal/docs/controller.html
-->
<controller name="unittests" use="Smarty3" author="Richard Myers" email="rick@humbleprogramming.com">
    <actions>

        <action name="home" passalong="window_id">
            <description>Main Test Harness page</description>
            <helper namespace='humble' class='directory' id='directory'>
                <parameter name='path' source='request' default='tests/' />
            </helper>
        </action>

        <!-- ############################################################### -->

        <action name="load" passalong="window_id">
            <description>Builds the list of unit tests that will be run</description>
            <helper namespace='humble' class='unittest' id='unit_tests'>
                <parameter name='source' source='post' required='true' />
                <parameter name='window_id' source='post' required='true' />
            </helper>
        </action>

        <!-- ############################################################### -->

        <action name="run" passalong="window_id">
            <description>Runs the unit tests and displays the results</description>
            <helper namespace='humble' class='unittest' id='unit_tests' method='run'>
                <parameter name='source' source='post' required='true' />
                <parameter name='window_id' source='post' required='true' />
            </helper>
        </action>

    </actions>
</controller>